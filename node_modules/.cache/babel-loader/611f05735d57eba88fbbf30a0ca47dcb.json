{"remainingRequest":"C:\\Users\\windows\\Desktop\\前端开发\\VUE\\supermall-master\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\windows\\Desktop\\前端开发\\VUE\\supermall-master\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\windows\\Desktop\\前端开发\\VUE\\supermall-master\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\windows\\Desktop\\前端开发\\VUE\\supermall-master\\src\\views\\home\\Home.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\windows\\Desktop\\前端开发\\VUE\\supermall-master\\src\\views\\home\\Home.vue","mtime":1599903017000},{"path":"C:\\Users\\windows\\Desktop\\前端开发\\VUE\\supermall-master\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1619665387549},{"path":"C:\\Users\\windows\\Desktop\\前端开发\\VUE\\supermall-master\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\windows\\Desktop\\前端开发\\VUE\\supermall-master\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1619665387549},{"path":"C:\\Users\\windows\\Desktop\\前端开发\\VUE\\supermall-master\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["import _toConsumableArray from \"C:\\\\Users\\\\windows\\\\Desktop\\\\\\u524D\\u7AEF\\u5F00\\u53D1\\\\VUE\\\\supermall-master\\\\node_modules\\\\@babel\\\\runtime/helpers/builtin/es6/toConsumableArray\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport NavBar from \"@/components/common/navbar/NavBar\";\nimport Scroll from \"@/components/common/scroll/Scroll\";\nimport TabControl from \"@/components/content/tabControl/TabControl\";\nimport GoodsList from \"@/components/content/goods/GoodsList\";\nimport BackTop from \"@/components/content/backtop/BackTop\";\nimport HomeSwiper from \"@/views/home/childrenComps/HomeSwiper\";\nimport HomeRecommend from \"@/views/home/childrenComps/HomeRecommend\";\nimport FeatureView from \"@/views/home/childrenComps/FeatureView\";\nimport { getHomeMultidata as _getHomeMultidata, getHomeGoods as _getHomeGoods } from \"@/network/home\";\nimport { debounce } from \"@/common/utils\";\nexport default {\n  name: \"Home\",\n  components: {\n    NavBar: NavBar,\n    TabControl: TabControl,\n    GoodsList: GoodsList,\n    Scroll: Scroll,\n    BackTop: BackTop,\n    HomeSwiper: HomeSwiper,\n    HomeRecommend: HomeRecommend,\n    FeatureView: FeatureView\n  },\n  activated: function activated() {\n    this.$refs.hSwiper.startTimer();\n  },\n  deactivated: function deactivated() {\n    this.$refs.hSwiper.stopTimer();\n  },\n  data: function data() {\n    return {\n      banners: [],\n      recommends: [],\n      goods: {\n        'pop': {\n          page: 0,\n          list: []\n        },\n        'new': {\n          page: 0,\n          list: []\n        },\n        'sell': {\n          page: 0,\n          list: []\n        }\n      },\n      currentType: 'pop',\n      isShow: false,\n      tabOffSetTop: 0,\n      isTabFixed: false\n    };\n  },\n  computed: {\n    showGoods: function showGoods() {\n      return this.goods[this.currentType].list;\n    }\n  },\n  mounted: function mounted() {\n    //1.图片加载的事件监听和防抖函数\n    var refresh = debounce(this.$refs.scroll.refresh);\n    this.$bus.$on('itemImageLoad', function () {\n      refresh();\n    }); //2.tabsettop\n    //所有组件都有一个属性$el,用于获取组件的元素\n  },\n  created: function created() {\n    //1.请求多个数据\n    this.getHomeMultidata(); // 2.请求商品数据\n\n    this.getHomeGoods('pop');\n    this.getHomeGoods('new');\n    this.getHomeGoods('sell');\n  },\n  methods: {\n    //网络请求相关方法\n    getHomeMultidata: function getHomeMultidata() {\n      var _this = this;\n\n      _getHomeMultidata().then(function (res) {\n        console.log(res);\n        _this.banners = res.data.banner.list;\n        _this.recommends = res.data.recommend.list;\n      });\n    },\n    getHomeGoods: function getHomeGoods(type) {\n      var _this2 = this;\n\n      var page = this.goods[type].page + 1;\n\n      _getHomeGoods(type, page).then(function (res) {\n        var _this2$goods$type$lis;\n\n        (_this2$goods$type$lis = _this2.goods[type].list).push.apply(_this2$goods$type$lis, _toConsumableArray(res.data.list));\n\n        _this2.goods[type].page += 1; ///完成加载更多\n\n        _this2.$refs.scroll.finishPullUp();\n      });\n    },\n    //事件监听相关方法\n    tabClick: function tabClick(index) {\n      switch (index) {\n        case 0:\n          this.currentType = 'pop';\n          break;\n\n        case 1:\n          this.currentType = 'new';\n          break;\n\n        case 2:\n          this.currentType = 'sell';\n          break;\n      }\n\n      this.$refs.tabcontrol1.currentIndex = index;\n      this.$refs.tabcontrol2.currentIndex = index;\n    },\n    backClick: function backClick() {\n      this.$refs.scroll.scrollTo(0, 0, 500);\n    },\n    contentScroll: function contentScroll(position) {\n      //1.判断backtop是否显示\n      this.isShow = -position.y > 1000; //2.判断tabcontrol是否吸顶\n\n      this.isTabFixed = -position.y > this.tabOffSetTop;\n    },\n    loadmore: function loadmore() {\n      this.getHomeGoods(this.currentType);\n    },\n    swiperload: function swiperload() {\n      this.tabOffSetTop = this.$refs.tabcontrol2.$el.offsetTop;\n    }\n  }\n};",{"version":3,"sources":["Home.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <div id=\"home\">\n    <nav-bar class=\"home-nav\">\n      <div slot=\"center\">购物街</div>\n    </nav-bar>\n    <tab-control class=\"tabcontrol\"\n                 :titles=\"['流行','新款','精选']\"\n                 @tabclick=\"tabClick\"\n                 ref=\"tabcontrol1\"\n                 v-show=\"isTabFixed\">\n\n    </tab-control>\n\n    <scroll class=\"content\" ref=\"scroll\" :probe-type=\"3\"\n            @scroll=\"contentScroll\"\n            :pull-up-load=\"true\"\n            @loadMore=\"loadmore\">\n\n\n      <home-swiper :banners=\"banners\" @swiperload=\"swiperload\"ref=\"hSwiper\"></home-swiper>\n      <home-recommend :recommends=\"recommends\"></home-recommend>\n      <feature-view></feature-view>\n\n      <tab-control\n        :titles=\"['流行','新款','精选']\"\n        @tabclick=\"tabClick\"\n        ref=\"tabcontrol2\"></tab-control>\n      <goods-list :goods=\"showGoods\"></goods-list>\n    </scroll>\n\n    <back-top @click.native=\"backClick\" v-show=\"isShow\"></back-top>\n  </div>\n</template>\n\n<script>\nimport NavBar from \"@/components/common/navbar/NavBar\";\nimport Scroll from \"@/components/common/scroll/Scroll\";\nimport TabControl from \"@/components/content/tabControl/TabControl\";\nimport GoodsList from \"@/components/content/goods/GoodsList\";\nimport BackTop from \"@/components/content/backtop/BackTop\";\n\n\nimport HomeSwiper from \"@/views/home/childrenComps/HomeSwiper\";\nimport HomeRecommend from \"@/views/home/childrenComps/HomeRecommend\";\nimport FeatureView from \"@/views/home/childrenComps/FeatureView\";\n\n\nimport {getHomeMultidata, getHomeGoods} from \"@/network/home\";\nimport {debounce} from \"@/common/utils\";\n\n\nexport default {\n  name: \"Home\",\n  components: {\n    NavBar,\n    TabControl,\n    GoodsList,\n    Scroll,\n    BackTop,\n\n\n    HomeSwiper,\n    HomeRecommend,\n    FeatureView,\n\n  },\n  activated: function () {\n    this.$refs.hSwiper.startTimer()\n  },\n  deactivated: function () {\n    this.$refs.hSwiper.stopTimer()\n  },\n  data() {\n    return {\n      banners: [],\n      recommends: [],\n      goods: {\n        'pop': {page: 0, list: []},\n        'new': {page: 0, list: []},\n        'sell': {page: 0, list: []}\n      },\n      currentType: 'pop',\n      isShow: false,\n      tabOffSetTop: 0,\n      isTabFixed: false\n    }\n  },\n  computed: {\n    showGoods() {\n      return this.goods[this.currentType].list\n    }\n  },\n  mounted() {\n    //1.图片加载的事件监听和防抖函数\n    const refresh = debounce(this.$refs.scroll.refresh,)\n    this.$bus.$on('itemImageLoad', () => {\n      refresh()\n    })\n    //2.tabsettop\n    //所有组件都有一个属性$el,用于获取组件的元素\n  },\n  created() {\n    //1.请求多个数据\n    this.getHomeMultidata();\n    // 2.请求商品数据\n    this.getHomeGoods('pop')\n    this.getHomeGoods('new')\n    this.getHomeGoods('sell')\n\n  },\n  methods: {\n    //网络请求相关方法\n    getHomeMultidata() {\n      getHomeMultidata().then(res => {\n        console.log(res)\n        this.banners = res.data.banner.list;\n        this.recommends = res.data.recommend.list;\n\n      })\n    },\n    getHomeGoods(type) {\n      const page = this.goods[type].page + 1\n      getHomeGoods(type, page).then(res => {\n        this.goods[type].list.push(...res.data.list)\n        this.goods[type].page += 1\n\n        ///完成加载更多\n        this.$refs.scroll.finishPullUp()\n      })\n    },\n    //事件监听相关方法\n    tabClick(index) {\n\n      switch (index) {\n        case 0:\n          this.currentType = 'pop'\n          break\n        case 1:\n          this.currentType = 'new'\n          break\n        case 2:\n          this.currentType = 'sell'\n          break\n      }\n      this.$refs.tabcontrol1.currentIndex = index\n      this.$refs.tabcontrol2.currentIndex = index\n    },\n    backClick() {\n      this.$refs.scroll.scrollTo(0, 0, 500)\n    },\n    contentScroll(position) {\n      //1.判断backtop是否显示\n      this.isShow = (-position.y) > 1000\n      //2.判断tabcontrol是否吸顶\n      this.isTabFixed = (-position.y) > this.tabOffSetTop\n    },\n    loadmore() {\n      this.getHomeGoods(this.currentType)\n    },\n    swiperload() {\n      this.tabOffSetTop = this.$refs.tabcontrol2.$el.offsetTop\n    }\n\n  }\n}\n</script>\n\n<style scoped>\n.home-nav {\n  background-color: var(--color-tint);\n  color: white;\n  /*position: fixed;*/\n  /*  left: 0;*/\n  /*  top: 0;*/\n  /*  right: 0;*/\n  /*  z-index: 9;*/\n}\n\n#home {\n\n  height: 100vh;\n  position: relative;\n}\n\n/*.tabcontrol{*/\n/*  position: sticky;*/\n/*  top: 44px;*/\n/*  z-index: 9;*/\n/*}*/\n.content {\n  /*height: calc(100% - 50px);*/\n  /*overflow: hidden;*/\n  overflow: hidden;\n  position: absolute;\n  top: 44px;\n  bottom: 49px;\n  left: 0;\n  right: 0;\n\n}\n\n.tabcontrol {\n  position: relative;\n  z-index: 9;\n}\n\n</style>\n"],"sourceRoot":"src\\views\\home"}]}